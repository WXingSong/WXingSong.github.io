"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(void 0).quicklink=t()}(0,function(){var o={};function r(o){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",o,n.withCredentials=!0),n.onload=function(){200===n.status?e():t()},n.send()})}var e,i=("prefetch",((e=document.createElement("link")).relList||{}).supports&&e.relList.supports("prefetch")?function(o){return new Promise(function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=o,n.onload=e,n.onerror=t,document.head.appendChild(n)})}:r);var u=u||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},f=new Set,c=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target.href;f.has(t)&&a(t)}})});function a(e){f.delete(e),function(e,t,n){if(!(o[e]||(n=navigator.connection)&&((n.effectiveType||"").includes("2g")||n.saveData)))(t?function(e){return null==self.fetch?r(e):fetch(e,{credentials:"include"})}:i)(e).then(function(){o[e]=!0})}(new URL(e,location.href).toString(),c.priority)}return function(e){e=Object.assign({timeout:2e3,priority:!1,timeoutFn:u,el:document},e),c.priority=e.priority;var t=e.origins||[location.hostname],n=e.ignores||[];e.timeoutFn(function(){e.urls?e.urls.forEach(a):Array.from(e.el.querySelectorAll("a"),function(e){c.observe(e),t.length&&!t.includes(e.hostname)||function t(n,e){return Array.isArray(e)?e.some(function(e){return t(n,e)}):(e.test||e).call(e,n.href,n)}(e,n)||f.add(e.href)})},{timeout:e.timeout})}});